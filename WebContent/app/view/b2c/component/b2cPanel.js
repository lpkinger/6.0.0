Ext.define('erp.view.b2c.component.b2cPanel',{    
	extend: 'Ext.panel.Panel', 
	alias: 'widget.erpb2cPanel',
	id:'erpCloudPanel',
	flag:'',
	layout: 'border',
	type:'',
	region:'center',
	initComponent : function(){
		var me=this;
		me.getItems();
		this.callParent(arguments);
	},
	configure:[{
	    
			   
    limits: [],
	caller:"ProductBatchUUId",
    necessaryFieldColor: "FF0000",
    columns: [
        {
            header: "序号",
            text: "序号",
            dataIndex: "pub_detno",
            fullName: null,
            cls: "x-grid-header-1",
            editor: null,
            filter: {
                dataIndex: "pub_detno",
                xtype: "numberfield",
                filtertype: null,
                hideTrigger: true,
                queryMode: "local",
                displayField: "display",
                valueField: "value",
                store: null,
                autoDim: true,
                ignoreCase: false,
                exactSearch: false,
                args: null
            },
            align: "right",
            format: "0,000",
            xtype: "numbercolumn",
            dbfind: "",
            renderer: null,
            flex: 0,
            width: 50,
            readOnly: true,
            hidden: false,
            summaryType: "",
            logic: "detno",
            locked: false,
            orderby: null,
            priority: null,
            autoEdit: false,
            modify: false,
            gridcolumns: []
        },
        {
            header: "ID",
            text: "ID",
            dataIndex: "pub_id",
            fullName: null,
            cls: "x-grid-header-1",
            editor: null,
            filter: {
                dataIndex: "pub_id",
                xtype: "numberfield",
                filtertype: null,
                hideTrigger: true,
                queryMode: "local",
                displayField: "display",
                valueField: "value",
                store: null,
                autoDim: true,
                ignoreCase: false,
                exactSearch: false,
                args: null
            },
            align: "right",
            format: "0,000",
            xtype: "numbercolumn",
            dbfind: "",
            renderer: null,
            flex: 0,
            width: 0,
            readOnly: true,
            hidden: true,
            summaryType: "",
            logic: "keyField",
            locked: false,
            orderby: null,
            priority: null,
            autoEdit: false,
            modify: false,
            gridcolumns: []
        },
        {
            header: "物料编号",
            text: "物料编号",
            dataIndex: "pub_prodcode",
            fullName: null,
            cls: "x-grid-header-1",
            editor: {
                xtype: "dbfindtrigger",
                format: "",
                hideTrigger: false,
                store: null,
                queryMode: "local",
                displayField: "display",
                valueField: "value",
                editable: true,
                cls: null,
                minValue: null,
                maxLength: 4000,
                positiveNum: false
            },
            filter: {
                dataIndex: "pub_prodcode",
                xtype: "textfield",
                filtertype: null,
                hideTrigger: false,
                queryMode: "local",
                displayField: "display",
                valueField: "value",
                store: null,
                autoDim: true,
                ignoreCase: false,
                exactSearch: false,
                args: null
            },
            align: "left",
            format: "",
            xtype: "",
            dbfind: "Product|pr_code",
            renderer: null,
            flex: 0,
            width: 150,
            readOnly: false,
            hidden: false,
            summaryType: "",
            logic: "necessaryField",
            locked: false,
            orderby: null,
            priority: null,
            autoEdit: false,
            modify: false,
            gridcolumns: []
        },
        {
            header: "物料名称",
            text: "物料名称",
            dataIndex: "pr_detail",
            fullName: null,
            cls: "x-grid-header-1",
            editor: null,
            filter: {
                dataIndex: "pr_detail",
                xtype: "textfield",
                filtertype: null,
                hideTrigger: false,
                queryMode: "local",
                displayField: "display",
                valueField: "value",
                store: null,
                autoDim: true,
                ignoreCase: false,
                exactSearch: false,
                args: null
            },
            align: "left",
            format: "",
            xtype: "",
            dbfind: "",
            renderer: null,
            flex: 0,
            width: 130,
            readOnly: true,
            hidden: false,
            summaryType: "",
            logic: "ignore",
            locked: false,
            orderby: null,
            priority: null,
            autoEdit: false,
            modify: false,
            gridcolumns: []
        },
        {
            header: "emid",
            text: "emid",
            dataIndex: "pub_emid",
            fullName: null,
            cls: "x-grid-header-1",
            editor: null,
            filter: {
                dataIndex: "pub_emid",
                xtype: "numberfield",
                filtertype: null,
                hideTrigger: true,
                queryMode: "local",
                displayField: "display",
                valueField: "value",
                store: null,
                autoDim: true,
                ignoreCase: false,
                exactSearch: false,
                args: null
            },
            align: "right",
            format: "0,000",
            xtype: "numbercolumn",
            dbfind: "",
            renderer: null,
            flex: 0,
            width: 0,
            readOnly: true,
            hidden: true,
            summaryType: "",
            logic: "mainField",
            locked: false,
            orderby: null,
            priority: null,
            autoEdit: false,
            modify: false,
            gridcolumns: []
        },
        {
            header: "员工编号",
            text: "员工编号",
            dataIndex: "pub_emcode",
            fullName: null,
            cls: "x-grid-header-1",
            editor: null,
            filter: {
                dataIndex: "pub_emcode",
                xtype: "textfield",
                filtertype: null,
                hideTrigger: false,
                queryMode: "local",
                displayField: "display",
                valueField: "value",
                store: null,
                autoDim: true,
                ignoreCase: false,
                exactSearch: false,
                args: null
            },
            align: "left",
            format: "",
            xtype: "",
            dbfind: "",
            renderer: null,
            flex: 0,
            width: 0,
            readOnly: true,
            hidden: true,
            summaryType: "",
            logic: "ignore",
            locked: false,
            orderby: null,
            priority: null,
            autoEdit: false,
            modify: false,
            gridcolumns: []
        },
        {
            header: "原厂型号",
            text: "原厂型号",
            dataIndex: "pr_orispeccode",
            fullName: null,
            cls: "x-grid-header-1",
            editor: null,
            filter: {
                dataIndex: "pr_orispeccode",
                xtype: "textfield",
                filtertype: null,
                hideTrigger: false,
                queryMode: "local",
                displayField: "display",
                valueField: "value",
                store: null,
                autoDim: true,
                ignoreCase: false,
                exactSearch: false,
                args: null
            },
            align: "left",
            format: "",
            xtype: "",
            dbfind: "",
            renderer: null,
            flex: 0,
            width: 120,
            readOnly: true,
            hidden: false,
            summaryType: "",
            logic: "necessaryField",
            locked: false,
            orderby: null,
            priority: null,
            autoEdit: false,
            modify: false,
            gridcolumns: []
        },
        {
            header: "品牌",
            text: "品牌",
            dataIndex: "pr_brand",
            fullName: null,
            cls: "x-grid-header-1",
            editor: null,
            filter: {
                dataIndex: "pr_brand",
                xtype: "textfield",
                filtertype: null,
                hideTrigger: false,
                queryMode: "local",
                displayField: "display",
                valueField: "value",
                store: null,
                autoDim: true,
                ignoreCase: false,
                exactSearch: false,
                args: null
            },
            align: "left",
            format: "",
            xtype: "",
            dbfind: "",
            renderer: null,
            flex: 0,
            width: 120,
            readOnly: true,
            hidden: false,
            summaryType: "",
            logic: "ignore",
            locked: false,
            orderby: null,
            priority: null,
            autoEdit: false,
            modify: false,
            gridcolumns: []
        },
        {
            header: "标准料号",
            text: "标准料号",
            dataIndex: "pub_uuid",
            fullName: null,
            cls: "x-grid-header-1",
            editor: null,
            filter: {
                dataIndex: "pub_uuid",
                xtype: "textfield",
                filtertype: null,
                hideTrigger: false,
                queryMode: "local",
                displayField: "display",
                valueField: "value",
                store: null,
                autoDim: true,
                ignoreCase: false,
                exactSearch: false,
                args: null
            },
            align: "left",
            format: "",
            xtype: "",
            dbfind: "",
            renderer: null,
            flex: 0,
            width: 280,
            readOnly: true,
            hidden: false,
            summaryType: "",
            logic: "necessaryField",
            locked: false,
            orderby: null,
            priority: null,
            autoEdit: false,
            modify: false,
            gridcolumns: []
        },
        {
            header: "多个结果",
            text: "多个结果",
            dataIndex: "pub_uuidstr",
            fullName: null,
            cls: "x-grid-header-1",
            editor: null,
            filter: {
                dataIndex: "pub_uuidstr",
                xtype: "textfield",
                filtertype: null,
                hideTrigger: false,
                queryMode: "local",
                displayField: "display",
                valueField: "value",
                store: null,
                autoDim: true,
                ignoreCase: false,
                exactSearch: false,
                args: null
            },
            align: "left",
            format: "",
            xtype: "",
            dbfind: "",
            renderer: null,
            flex: 0,
            width: 100,
            readOnly: true,
            hidden: false,
            summaryType: "",
            logic: "ignore",
            locked: false,
            orderby: null,
            priority: null,
            autoEdit: false,
            modify: false,
            gridcolumns: []
        }
    ],
    dbfinds: [
        {
            dbGridField: "pr_code",
            field: "pub_prodcode",
            trigger: null
        },
        {
            dbGridField: "pr_detail",
            field: "pr_detail",
            trigger: null
        },
        {
            dbGridField: "pr_brand",
            field: "pr_brand",
            trigger: null
        },
        {
            dbGridField: "pr_orispeccode",
            field: "pub_orispeccode",
            trigger: null
        },
        {
            dbGridField: "pr_uuid",
            field: "pub_uuid",
            trigger: null
        }
    ],
	gridTable:'ProductUUIDBatch left join Product on pub_prodcode=pr_code',
	gridFields:"pub_detno,pub_id,pub_prodcode,pr_detail,pub_emid,pub_emcode,pr_orispeccode,pr_brand,pub_uuid,pub_uuidstr",
    fields: [
        {
            name: "pub_detno",
            type: "number",
            format: ""
        },
        {
            name: "pub_id",
            type: "number",
            format: ""
        },
        {
            name: "pub_prodcode",
            type: "string",
            format: ""
        },
        {
            name: "pr_detail",
            type: "string",
            format: ""
        },
        {
            name: "pub_emid",
            type: "number",
            format: ""
        },
        {
            name: "pub_emcode",
            type: "string",
            format: ""
        },
        {
            name: "pr_orispeccode",
            type: "string",
            format: ""
        },
        {
            name: "pr_brand",
            type: "string",
            format: ""
        },
        {
            name: "pub_uuid",
            type: "string",
            format: ""
        },
        {
            name: "pub_uuidstr",
            type: "string",
            format: ""
        }
    ]			   
	},{
		
			   
    limits: [],
	paneltype:"query",
	caller:'BatchUUIdSource',
    codeField:"pr_code",
    detailkeyfield:"pr_code",
    fo_detailMainKeyField:null,
    buttons:null,
    statuscodeField:"sa_statuscode",
    statusField:"pr_status",
    fo_detailGridOrderBy:"order by pr_id",
    keyField:"pr_id",
    title:"标准料号设置物料来源",
    items:[
        {
            fieldLabel:"物料编号",
            name:"pr_code",
            id:"pr_code",
            html:null,
            group:1,
            groupName:null,
            table:"Product",
            xtype:"dbfindtrigger",
            readOnly:false,
            dataIndex:"pr_code",
            maxLength:30,
            maxLengthText:"字段长度不能超过30字符!",
            hideTrigger:false,
            editable:true,
            columnWidth:0.25,
            value:"",
            allowBlank:true,
            cls:"form-field-allowBlank",
            fieldStyle:"background:#FFFAFA;color:#515151;",
            queryMode:null,
            displayField:null,
            valueField:null,
            store:null,
            labelAlign:"left",
            firstname:null,
            firstxtype:null,
            secondname:null,
            logic:"pr_code",
            text:null,
            boxLabel:null,
            minValue:null,
            maxValue:null,
            inputValue:null,
            checked:false,
            fieldConfig:null,
            defaultValue:null,
            title:null,
            iniValue:null,
            maskRe:null,
            modify:false,
            allowDecimals:true,
            renderfn:null
        },
        {
            fieldLabel:"物料名称",
            name:"pr_spec",
            id:"pr_spec",
            html:null,
            group:1,
            groupName:null,
            table:"Product",
            xtype:"textfield",
            readOnly:true,
            dataIndex:"pr_spec",
            maxLength:800,
            maxLengthText:"字段长度不能超过800字符!",
            hideTrigger:false,
            editable:true,
            columnWidth:0.25,
            value:"",
            allowBlank:true,
            cls:"form-field-allowBlank",
            fieldStyle:"background:#FFFAFA;color:#515151;",
            queryMode:null,
            displayField:null,
            valueField:null,
            store:null,
            labelAlign:"left",
            firstname:null,
            firstxtype:null,
            secondname:null,
            logic:null,
            text:null,
            boxLabel:null,
            minValue:null,
            maxValue:null,
            inputValue:null,
            checked:false,
            fieldConfig:null,
            defaultValue:null,
            title:null,
            iniValue:null,
            maskRe:null,
            modify:false,
            allowDecimals:true,
            renderfn:null
        },
        {
            fieldLabel:"品牌",
            name:"pr_brand",
            id:"pr_brand",
            html:null,
            group:1,
            groupName:null,
            table:"PRODUCT",
            xtype:"dbfindtrigger",
            readOnly:false,
            dataIndex:"pr_brand",
            maxLength:300,
            maxLengthText:"字段长度不能超过300字符!",
            hideTrigger:false,
            editable:true,
            columnWidth:0.25,
            value:"",
            allowBlank:true,
            cls:"form-field-allowBlank",
            fieldStyle:"background:#FFFAFA;color:#515151;",
            queryMode:null,
            displayField:null,
            valueField:null,
            store:null,
            labelAlign:"left",
            firstname:null,
            firstxtype:null,
            secondname:null,
            logic:"pr_brand",
            text:null,
            boxLabel:null,
            minValue:null,
            maxValue:null,
            inputValue:null,
            checked:false,
            fieldConfig:null,
            defaultValue:null,
            title:null,
            iniValue:null,
            maskRe:null,
            modify:false,
            allowDecimals:true,
            renderfn:null
        },
        {
            fieldLabel:null,
            name:"pr_orispeccode",
            id:"pr_orispeccode",
            html:null,
            group:1,
            groupName:null,
            table:"PRODUCT",
            xtype:"checkbox",
            readOnly:false,
            dataIndex:"pr_orispeccode",
            maxLength:2000,
            maxLengthText:"字数太长了哟",
            hideTrigger:false,
            editable:true,
            columnWidth:0.25,
            value:"",
            allowBlank:true,
            cls:null,
            fieldStyle:null,
            queryMode:null,
            displayField:null,
            valueField:null,
            store:null,
            labelAlign:"right",
            firstname:null,
            firstxtype:null,
            secondname:null,
            logic:"nvl(pr_orispeccode,' ')<>' '",
            text:null,
            boxLabel:"只显示有原厂型号",
            minValue:null,
            maxValue:null,
            inputValue:"1",
            checked:false,
            fieldConfig:null,
            defaultValue:null,
            title:null,
            iniValue:null,
            maskRe:null,
            modify:false,
            allowDecimals:true,
            renderfn:null
        },
        {
            fieldLabel:"大类",
            name:"pr_kind",
            id:"pr_kind",
            html:null,
            group:1,
            groupName:null,
            table:"PRODUCT",
            xtype:"dbfindtrigger",
            readOnly:false,
            dataIndex:"pr_kind",
            maxLength:80,
            maxLengthText:"字段长度不能超过80字符!",
            hideTrigger:false,
            editable:true,
            columnWidth:0.5,
            value:"",
            allowBlank:true,
            cls:"form-field-allowBlank",
            fieldStyle:"background:#FFFAFA;color:#515151;",
            queryMode:null,
            displayField:null,
            valueField:null,
            store:null,
            labelAlign:"left",
            firstname:null,
            firstxtype:null,
            secondname:null,
            logic:"pr_kind",
            text:null,
            boxLabel:null,
            minValue:null,
            maxValue:null,
            inputValue:null,
            checked:false,
            fieldConfig:null,
            defaultValue:null,
            title:null,
            iniValue:null,
            maskRe:null,
            modify:false,
            allowDecimals:true,
            renderfn:null
        }
    ],
    tablename:"Product",
    necessaryFieldColor:"FF0000",
	formFields:"pr_code,pr_spec,pr_brand,pr_orispeccode,pr_kind",
	columns:[
        {
            header:"物料编号",
            text:"物料编号",
            dataIndex:"pr_code",
            fullName:null,
            cls:"x-grid-header-1",
            editor:null,
            filter:{
                dataIndex:"pr_code",
                xtype:"textfield",
                filtertype:null,
                hideTrigger:false,
                queryMode:"local",
                displayField:"display",
                valueField:"value",
                store:null,
                autoDim:true,
                ignoreCase:false,
                exactSearch:false,
                args:null
            },
            align:"left",
            format:"",
            xtype:"",
            dbfind:"",
            renderer:null,
            flex:0,
            width:180,
            readOnly:true,
            hidden:false,
            summaryType:"",
            logic:"necessaryField",
            locked:false,
            orderby:null,
            priority:null,
            autoEdit:false,
            modify:false,
            gridcolumns:[

            ]
        },
        {
            header:"物料名称",
            text:"物料名称",
            dataIndex:"pr_spec",
            fullName:null,
            cls:"x-grid-header-1",
            editor:null,
            filter:{
                dataIndex:"pr_spec",
                xtype:"textfield",
                filtertype:null,
                hideTrigger:false,
                queryMode:"local",
                displayField:"display",
                valueField:"value",
                store:null,
                autoDim:true,
                ignoreCase:false,
                exactSearch:false,
                args:null
            },
            align:"left",
            format:"",
            xtype:"",
            dbfind:"",
            renderer:null,
            flex:0,
            width:150,
            readOnly:true,
            hidden:false,
            summaryType:"",
            logic:"necessaryField",
            locked:false,
            orderby:null,
            priority:null,
            autoEdit:false,
            modify:false,
            gridcolumns:[

            ]
        },
        {
            header:"原厂型号",
            text:"原厂型号",
            dataIndex:"pr_orispeccode",
            fullName:null,
            cls:"x-grid-header-1",
            editor:null,
            filter:{
                dataIndex:"pr_orispeccode",
                xtype:"textfield",
                filtertype:null,
                hideTrigger:false,
                queryMode:"local",
                displayField:"display",
                valueField:"value",
                store:null,
                autoDim:true,
                ignoreCase:false,
                exactSearch:false,
                args:null
            },
            align:"left",
            format:"",
            xtype:"",
            dbfind:"",
            renderer:null,
            flex:0,
            width:130,
            readOnly:true,
            hidden:false,
            summaryType:"",
            logic:"necessaryField",
            locked:false,
            orderby:null,
            priority:null,
            autoEdit:false,
            modify:false,
            gridcolumns:[

            ]
        },
        {
            header:"品牌",
            text:"品牌",
            dataIndex:"pr_brand",
            fullName:null,
            cls:"x-grid-header-1",
            editor:null,
            filter:{
                dataIndex:"pr_brand",
                xtype:"textfield",
                filtertype:null,
                hideTrigger:false,
                queryMode:"local",
                displayField:"display",
                valueField:"value",
                store:null,
                autoDim:true,
                ignoreCase:false,
                exactSearch:false,
                args:null
            },
            align:"left",
            format:"",
            xtype:"",
            dbfind:"",
            renderer:null,
            flex:0,
            width:120,
            readOnly:true,
            hidden:false,
            summaryType:"",
            logic:"necessaryField",
            locked:false,
            orderby:null,
            priority:null,
            autoEdit:false,
            modify:false,
            gridcolumns:[

            ]
        },
        {
            header:"标准料号",
            text:"标准料号",
            dataIndex:"pr_uuid",
            fullName:null,
            cls:"x-grid-header-1",
            editor:null,
            filter:{
                dataIndex:"pr_uuid",
                xtype:"textfield",
                filtertype:null,
                hideTrigger:false,
                queryMode:"local",
                displayField:"display",
                valueField:"value",
                store:null,
                autoDim:true,
                ignoreCase:false,
                exactSearch:false,
                args:null
            },
            align:"left",
            format:"",
            xtype:"",
            dbfind:"",
            renderer:null,
            flex:0,
            width:180,
            readOnly:true,
            hidden:false,
            summaryType:"",
            logic:"necessaryField",
            locked:false,
            orderby:null,
            priority:null,
            autoEdit:false,
            modify:false,
            gridcolumns:[

            ]
        },
        {
            header:"ID",
            text:"ID",
            dataIndex:"pr_id",
            fullName:null,
            cls:"x-grid-header-1",
            editor:null,
            filter:{
                dataIndex:"pr_id",
                xtype:"textfield",
                filtertype:null,
                hideTrigger:false,
                queryMode:"local",
                displayField:"display",
                valueField:"value",
                store:null,
                autoDim:true,
                ignoreCase:false,
                exactSearch:false,
                args:null
            },
            align:"left",
            format:"",
            xtype:"",
            dbfind:"",
            renderer:null,
            flex:0,
            width:0,
            readOnly:true,
            hidden:true,
            summaryType:"",
            logic:"keyField",
            locked:false,
            orderby:null,
            priority:null,
            autoEdit:false,
            modify:false,
            gridcolumns:[

            ]
        }
    ],
    dbfinds:[],
    fields:[
        {
            name:"pr_code",
            type:"string",
            format:""
        },
        {
            name:"pr_spec",
            type:"string",
            format:""
        },
        {
            name:"pr_orispeccode",
            type:"string",
            format:""
        },
        {
            name:"pr_brand",
            type:"string",
            format:""
        },
        {
            name:"pr_uuid",
            type:"string",
            format:""
        },
        {
            name:"pr_id",
            type:"string",
            format:""
        }
    ],
	gridTable:'product',
	gridFields:"pr_code,pr_spec,pr_brand,pr_orispeccode,pr_uuid，pr_id"
	},{
		
			   	
    limits: [],
	paneltype:"normal",
    codeField: null,
    detailkeyfield: null,
    fo_detailMainKeyField: null,
    buttons: "erpCloseButton",
    statuscodeField: null,
    statusField: null,
    fo_detailGridOrderBy: null,
    keyField: "go_id",
    title: "标准物料",
	caller:"b2cgoodsonhand",
    items: [
        {
            fieldLabel: "ID",
            name: "go_id",
            id: "go_id",
            html: null,
            group: 1,
            groupName: null,
            table: "b2c$goodsonhand left join product on go_uuid=pr_uuid",
            xtype: "hidden",
            readOnly: false,
            dataIndex: "go_id",
            maxLength: 2000,
            maxLengthText: "字数太长了哟",
            hideTrigger: false,
            editable: true,
            columnWidth: 0.25,
            value: "",
            allowBlank: false,
            cls: "form-field-allowBlank-hidden",
            fieldStyle: "background:#E0E0FF;color:#515151;",
            queryMode: null,
            displayField: null,
            valueField: null,
            store: null,
            labelAlign: "left",
            firstname: null,
            firstxtype: null,
            secondname: null,
            logic: null,
            text: null,
            boxLabel: null,
            minValue: null,
            maxValue: null,
            inputValue: null,
            checked: false,
            fieldConfig: null,
            defaultValue: null,
            title: null,
            iniValue: null,
            maskRe: null,
            modify: false,
            allowDecimals: true,
            renderfn: null
        },
        {
            fieldLabel: "物料编号",
            name: "pr_code",
            id: "pr_code",
            html: null,
            group: 1,
            groupName: null,
            table: "b2c$goodsonhand left join product on go_uuid=pr_uuid",
            xtype: "textfield",
            readOnly: true,
            dataIndex: "pr_code",
            maxLength: 100,
            maxLengthText: "字段长度不能超过100字符!",
            hideTrigger: false,
            editable: true,
            columnWidth: 0.25,
            value: "",
            allowBlank: true,
            cls: "form-field-allowBlank",
            fieldStyle: "background:#FFFAFA;color:#515151;",
            queryMode: null,
            displayField: null,
            valueField: null,
            store: null,
            labelAlign: "left",
            firstname: null,
            firstxtype: null,
            secondname: null,
            logic: null,
            text: null,
            boxLabel: null,
            minValue: null,
            maxValue: null,
            inputValue: null,
            checked: false,
            fieldConfig: null,
            defaultValue: null,
            title: null,
            iniValue: null,
            maskRe: null,
            modify: false,
            allowDecimals: true,
            renderfn: null
        },
        {
            fieldLabel: "物料名称",
            name: "pr_detail",
            id: "pr_detail",
            html: null,
            group: 1,
            groupName: null,
            table: "b2c$goodsonhand left join product on go_uuid=pr_uuid",
            xtype: "textfield",
            readOnly: true,
            dataIndex: "pr_detail",
            maxLength: 100,
            maxLengthText: "字段长度不能超过100字符!",
            hideTrigger: false,
            editable: true,
            columnWidth: 0.25,
            value: "",
            allowBlank: true,
            cls: "form-field-allowBlank",
            fieldStyle: "background:#FFFAFA;color:#515151;",
            queryMode: null,
            displayField: null,
            valueField: null,
            store: null,
            labelAlign: "left",
            firstname: null,
            firstxtype: null,
            secondname: null,
            logic: null,
            text: null,
            boxLabel: null,
            minValue: null,
            maxValue: null,
            inputValue: null,
            checked: false,
            fieldConfig: null,
            defaultValue: null,
            title: null,
            iniValue: null,
            maskRe: null,
            modify: false,
            allowDecimals: true,
            renderfn: null
        },
        {
            fieldLabel: "规格型号",
            name: "pr_spec",
            id: "pr_spec",
            html: null,
            group: 1,
            groupName: null,
            table: "b2c$goodsonhand left join product on go_uuid=pr_uuid",
            xtype: "textfield",
            readOnly: true,
            dataIndex: "pr_spec",
            maxLength: 100,
            maxLengthText: "字段长度不能超过100字符!",
            hideTrigger: false,
            editable: true,
            columnWidth: 0.25,
            value: "",
            allowBlank: true,
            cls: "form-field-allowBlank",
            fieldStyle: "background:#FFFAFA;color:#515151;",
            queryMode: null,
            displayField: null,
            valueField: null,
            store: null,
            labelAlign: "left",
            firstname: null,
            firstxtype: null,
            secondname: null,
            logic: null,
            text: null,
            boxLabel: null,
            minValue: null,
            maxValue: null,
            inputValue: null,
            checked: false,
            fieldConfig: null,
            defaultValue: null,
            title: null,
            iniValue: null,
            maskRe: null,
            modify: false,
            allowDecimals: true,
            renderfn: null
        },
        {
            fieldLabel: "原厂型号",
            name: "pr_orispeccode",
            id: "pr_orispeccode",
            html: null,
            group: 1,
            groupName: null,
            table: "b2c$goodsonhand left join product on go_uuid=pr_uuid",
            xtype: "textfield",
            readOnly: true,
            dataIndex: "pr_orispeccode",
            maxLength: 100,
            maxLengthText: "字段长度不能超过100字符!",
            hideTrigger: false,
            editable: true,
            columnWidth: 0.25,
            value: "",
            allowBlank: true,
            cls: "form-field-allowBlank",
            fieldStyle: "background:#FFFAFA;color:#515151;",
            queryMode: null,
            displayField: null,
            valueField: null,
            store: null,
            labelAlign: "left",
            firstname: null,
            firstxtype: null,
            secondname: null,
            logic: null,
            text: null,
            boxLabel: null,
            minValue: null,
            maxValue: null,
            inputValue: null,
            checked: false,
            fieldConfig: null,
            defaultValue: null,
            title: null,
            iniValue: null,
            maskRe: null,
            modify: false,
            allowDecimals: true,
            renderfn: null
        },
        {
            fieldLabel: "品牌",
            name: "pr_brand",
            id: "pr_brand",
            html: null,
            group: 1,
            groupName: null,
            table: "b2c$goodsonhand left join product on go_uuid=pr_uuid",
            xtype: "textfield",
            readOnly: true,
            dataIndex: "pr_brand",
            maxLength: 100,
            maxLengthText: "字段长度不能超过100字符!",
            hideTrigger: false,
            editable: true,
            columnWidth: 0.25,
            value: "",
            allowBlank: true,
            cls: "form-field-allowBlank",
            fieldStyle: "background:#FFFAFA;color:#515151;",
            queryMode: null,
            displayField: null,
            valueField: null,
            store: null,
            labelAlign: "left",
            firstname: null,
            firstxtype: null,
            secondname: null,
            logic: null,
            text: null,
            boxLabel: null,
            minValue: null,
            maxValue: null,
            inputValue: null,
            checked: false,
            fieldConfig: null,
            defaultValue: null,
            title: null,
            iniValue: null,
            maskRe: null,
            modify: false,
            allowDecimals: true,
            renderfn: null
        },
        {
            fieldLabel: "标准料号",
            name: "pr_uuid",
            id: "pr_uuid",
            html: null,
            group: 1,
            groupName: null,
            table: "b2c$goodsonhand left join product on go_uuid=pr_uuid",
            xtype: "textfield",
            readOnly: true,
            dataIndex: "pr_uuid",
            maxLength: 100,
            maxLengthText: "字段长度不能超过100字符!",
            hideTrigger: false,
            editable: true,
            columnWidth: 0.25,
            value: "",
            allowBlank: true,
            cls: "form-field-allowBlank",
            fieldStyle: "background:#FFFAFA;color:#515151;",
            queryMode: null,
            displayField: null,
            valueField: null,
            store: null,
            labelAlign: "left",
            firstname: null,
            firstxtype: null,
            secondname: null,
            logic: null,
            text: null,
            boxLabel: null,
            minValue: null,
            maxValue: null,
            inputValue: null,
            checked: false,
            fieldConfig: null,
            defaultValue: null,
            title: null,
            iniValue: null,
            maskRe: null,
            modify: false,
            allowDecimals: true,
            renderfn: null
        },
        {
            fieldLabel: "物料等级",
            name: "pr_level",
            id: "pr_level",
            html: null,
            group: 1,
            groupName: null,
            table: "b2c$goodsonhand left join product on go_uuid=pr_uuid",
            xtype: "textfield",
            readOnly: true,
            dataIndex: "pr_level",
            maxLength: 100,
            maxLengthText: "字段长度不能超过100字符!",
            hideTrigger: false,
            editable: true,
            columnWidth: 0.25,
            value: "",
            allowBlank: true,
            cls: "form-field-allowBlank",
            fieldStyle: "background:#FFFAFA;color:#515151;",
            queryMode: null,
            displayField: null,
            valueField: null,
            store: null,
            labelAlign: "left",
            firstname: null,
            firstxtype: null,
            secondname: null,
            logic: null,
            text: null,
            boxLabel: null,
            minValue: null,
            maxValue: null,
            inputValue: null,
            checked: false,
            fieldConfig: null,
            defaultValue: null,
            title: null,
            iniValue: null,
            maskRe: null,
            modify: false,
            allowDecimals: true,
            renderfn: null
        },
        {
            fieldLabel: "ERP单位",
            name: "go_erpunit",
            id: "go_erpunit",
            html: null,
            group: 1,
            groupName: null,
            table: "B2C$GOODSONHAND",
            xtype: "textfield",
            readOnly: false,
            dataIndex: "go_erpunit",
            maxLength: 10,
            maxLengthText: "字段长度不能超过10字符!",
            hideTrigger: false,
            editable: true,
            columnWidth: 0.25,
            value: "",
            allowBlank: true,
            cls: "form-field-allowBlank",
            fieldStyle: "background:#FFFAFA;color:#515151;",
            queryMode: null,
            displayField: null,
            valueField: null,
            store: null,
            labelAlign: "left",
            firstname: null,
            firstxtype: null,
            secondname: null,
            logic: null,
            text: null,
            boxLabel: null,
            minValue: null,
            maxValue: null,
            inputValue: null,
            checked: false,
            fieldConfig: null,
            defaultValue: null,
            title: null,
            iniValue: null,
            maskRe: null,
            modify: false,
            allowDecimals: true,
            renderfn: null
        },
        {
            fieldLabel: "ERP销售定价",
            name: "go_saleprice",
            id: "go_saleprice",
            html: null,
            group: 1,
            groupName: null,
            table: "B2C$GOODSONHAND",
            xtype: "numberfield",
            readOnly: false,
            dataIndex: "go_saleprice",
            maxLength: 2000,
            maxLengthText: "字数太长了哟",
            hideTrigger: true,
            editable: true,
            columnWidth: 0.25,
            value: "",
            allowBlank: true,
            cls: "form-field-allowBlank",
            fieldStyle: "background:#FFFAFA;color:#515151;",
            queryMode: null,
            displayField: null,
            valueField: null,
            store: null,
            labelAlign: "left",
            firstname: null,
            firstxtype: null,
            secondname: null,
            logic: null,
            text: null,
            boxLabel: null,
            minValue: null,
            maxValue: null,
            inputValue: null,
            checked: false,
            fieldConfig: null,
            defaultValue: null,
            title: null,
            iniValue: null,
            maskRe: null,
            modify: false,
            allowDecimals: true,
            renderfn: null
        }
    ],
    formTable:"product left join b2c$goodsonhand on pr_uuid=go_uuid",
	formFields:"go_id,pr_code,pr_detail,pr_spec,pr_orispeccode,pr_brand,pr_uuid,pr_level,go_erpunit,go_saleprice",
    necessaryFieldColor: "FF0000",
	AButtons:"erpSaveButton#erpCloseButton",
	RButtons:"erpCloseButton"
	}
	],
	getItems:function(){
		var me=this;
		var auto=false;
		Ext.each(me.configure,function(conf){
			 if(conf.caller==caller){
				if(caller == 'ProductBatchUUId'){
					Ext.apply(me,{ 
						items: [{ 
							layout: 'anchor',
							region:'center',
							items: [{					
								xtype: 'erpGridPanel2',
								anchor: '100% 100%', 
								detno: 'pub_detno',
								keyField:conf.keyField,
								gridfields:conf.fields,
								auto:auto,
								gridCondition:conf.gridCondition,
								limits:conf.limits,
								gridcolumns:conf.columns,
								dbfinds:conf.dbfinds,
								tablename:conf.gridTable,
								datafields:conf.gridFields,
								headerCt: Ext.create("Ext.grid.header.Container",{
								 	    forceFit: false,
								        sortable: true,
								        enableColumnMove:true,
								        enableColumnResize:true,
								        enableColumnHide: true
								     }),
								 dockedItems: [{
								 	xtype: 'toolbar',
								 	padding:'8 5 8 55',	
								 	dock: 'top',
								 	border:false,
								 	items: [{
							            xtype: 'tbtext', 
							            text: '<span style="color: gray;">--选择物料后系统会根据"原厂型号"自动匹配，匹配不上的可通过下方按钮“手工匹配”进行手工匹配</span>'
							        }]
								 },{
							        xtype: 'toolbar',
							        dock: 'top',
							        padding:'8 5 8 20',	
							        border:false,
							        items: [{
							            xtype:'erpLoadProdButton'
							        },'-',{
							        	xtype:'erpRemoveUUIdButton'
							        }]
							    }],
								selModel: Ext.create('Ext.selection.CheckboxModel',{}),					
								plugins: [Ext.create('erp.view.core.plugin.CopyPasteMenu'),Ext.create('erp.view.core.grid.HeaderFilter')],
							    invalidateScrollerOnRefresh: false,	
							    listeners: {
							        'headerfiltersapply': function(grid, filters) {
							        	if(this.allowFilter){
							        		var condition = null;
							                for(var fn in filters){
							                    var value = filters[fn],f = grid.getHeaderFilterField(fn);
							                    if(!Ext.isEmpty(value)){
							                    	if(f.filtertype) {
							                    		if (f.filtertype == 'numberfield') {
							                    			value = fn + "=" + value + " ";
							                    		}
							                    	} else {
							                    		if(Ext.isDate(value)){
							                        		value = Ext.Date.toString(value);
							                        		value = "to_char(" + fn + ",'yyyy-MM-dd')='" + value + "' ";
							                        	} else {
							                        		var exp_t = /^(\d{4})\-(\d{2})\-(\d{2}) (\d{2}):(\d{2}):(\d{2})$/,
							                        		exp_d = /^(\d{4})\-(\d{2})\-(\d{2})$/;
							    	                    	if(exp_d.test(value)){
							    	                    		value = "to_char(" + fn + ",'yyyy-MM-dd')='" + value + "' ";
							    	                    	} else if(exp_t.test(value)){
							    	                    		value = "to_char(" + fn + ",'yyyy-MM-dd')='" + value.substr(0, 10) + "' ";
							    	                    	} else{
							    	                    		if (f.xtype == 'combo' || f.xtype == 'combofield') {
							    	                    			if (value == '-所有-') {
							    	                    				continue;
							    	                    			} else if (value == '-无-') {
							    	                    				value = 'nvl(' + fn + ',\' \')=\' \'';
							    	                    			} else {
							    	                    				value = fn + " LIKE '" + value + "%' ";
							    	                    			}
							    	                    		} else {
							    	                    			//**字符串转换下简体*//*
							    	                    			var SimplizedValue=this.BaseUtil.Simplized(value);   	                    	
							    	                    			//可能就是按繁体筛选  
							    	                    			if(f.ignoreCase) {// 忽略大小写
							        	                    			fn = 'upper(' + fn + ')';
							        	                    			value = value.toUpperCase();
							        	                    		}
							        	                    		if(!f.autoDim) {
							        	                    			if(SimplizedValue!=value){
							        	                    				value = "("+fn + " LIKE '" + value + "%' or "+fn+" LIKE '"+SimplizedValue+"%')";
							        	                    			}else value = fn + " LIKE '" + value + "%' ";       	                    			
							        	                    			
							        	                    		} else if(f.exactSearch){
							        	                    			value=fn+"='"+value+"'";
							        	                    		}else {
							        	                    			if(SimplizedValue!=value){
							        	                    				value = "("+fn + " LIKE '%" + value + "%' or "+fn+" LIKE '%"+SimplizedValue+"%')";
							        	                    			}else value = fn + " LIKE '%" + value + "%' ";       	                    			        	                    			
							        	                    		}
							    	                    		}
							    	                    	}
							                        	}
							                    	}
							                    	if(condition == null){
							                    		condition = value;
							                    	} else {
							                    		condition = condition + " AND " + value;
							                    	}
							                    }
							                }
							                this.filterCondition = condition;
							                var grid=Ext.getCmp('grid');
							                grid.store.remoteSort=true;
							                if(grid.store.data!=grid.store.prefetchData){
							                	grid.store.loadData(grid.store.prefetchData.items);
							                }
							        	} else {
							        		this.allowFilter = true;
							        	}
							        	return false;
							        }
							    },
							    viewConfig: {
							        trackOver: false
							    },
							    buffered: true,
							    sync: true				   
							}]
						}] 
					});
				}else if(conf.paneltype=="query"){
					Ext.apply(me, { 
						items: [{
							region: 'north',
							height: '25%',
							xtype:'erpBatchDealFormPanel',
							fo_keyField:conf.fo_keyField,
							detailkeyfield:conf.detailkeyfield,
							tablename:conf.formTable,
							keyField:conf.keyField?conf.keyField:'',
							dealUrl:conf.dealUrl?conf.dealUrl:'',
							fo_detailMainKeyField:conf.fo_detailMainKeyField,
							formitems:conf.items,
							fbuttons:conf.buttons,
							condition:conf.fo_condition?conf.fo_condition: ''
						},{ 
							region:'center',
							autoRender:true,
							xtype:'erpBatchDealGridPanel',
							keyField:conf.keyField,
							gridfields:conf.fields,
							auto:auto,
							gridCondition:conf.gridCondition,
							limits:conf.limits,
							gridcolumns:conf.columns,
							dbfinds:conf.dbfinds,
							tablename:conf.gridTable,
							datafields:conf.gridFields,
							necessaryFieldColor:conf.necessaryFieldColor
						}]
					}); 
				}else if(conf.paneltype=="normal"){//主从表
					if(!conf.columns){  //只有主表数据
						Ext.apply(me, { 
							items: [{
								region: 'center',
								xtype:'erpFormPanel',
								datafields:conf.formFields,
								fo_keyField:conf.fo_keyField,
								detailkeyfield:conf.detailkeyfield,
								tablename:conf.formTable,
								title:conf.title,
								keyField:conf.keyField?conf.keyField:'',
								fo_detailMainKeyField:conf.fo_detailMainKeyField,
								formitems:conf.items,
								AButtons:conf.AButtons?conf.AButtons:"",
								RButtons:conf.RButtons?conf.RButtons:"",
								condition:conf.fo_condition?conf.fo_condition: '',
								statusField:conf.statusField?conf.statusField:'',
								statuscodeField:conf.statuscodeField?conf.statuscodeField:'',
								codeField:conf.codeField?conf.codeField:'',
								limits:conf.limits,
								necessaryFieldColor:conf.necessaryFieldColor,
								saveUrl: conf.saveUrl,
								deleteUrl: conf.deleteUrl,
								updateUrl: conf.updateUrl,
								submitUrl: conf.submitUrl,
								resSubmitUrl:conf.resSubmitUrl,
								auditUrl: conf.auditUrl,
								resAuditUrl: conf.resAuditUrl,
								getIdUrl: conf.getIdUrl,
								hasGrid:false
							}]
						});
					}else{
						Ext.apply(me, { 
							items: [{
								region: 'north',
								height: '50%',
								xtype:'erpFormPanel',
								datafields:conf.formFields,
								fo_keyField:conf.fo_keyField,
								detailkeyfield:conf.detailkeyfield,
								tablename:conf.formTable,
								title:conf.title,
								keyField:conf.keyField?conf.keyField:'',
								fo_detailMainKeyField:conf.fo_detailMainKeyField,
								formitems:conf.items,
								AButtons:conf.AButtons?conf.AButtons:"",
								RButtons:conf.RButtons?conf.RButtons:"",
								condition:conf.fo_condition?conf.fo_condition: '',
								statusField:conf.statusField?conf.statusField:'',
								statuscodeField:conf.statuscodeField?conf.statuscodeField:'',
								codeField:conf.codeField?conf.codeField:'',
								limits:conf.limits,
								necessaryFieldColor:conf.necessaryFieldColor,
								saveUrl: conf.saveUrl,
								deleteUrl: conf.deleteUrl,
								updateUrl: conf.updateUrl,
								auditUrl: conf.auditUrl,
								resAuditUrl: conf.resAuditUrl,
								submitUrl: conf.submitUrl,
								resSubmitUrl: conf.resSubmitUrl,
								postUrl: conf.postUrl,
								printUrl: conf.printUrl,
								printNoCustomerUrl: conf.printNoCustomerUrl,
								printnosaleUrl: conf.printnosaleUrl,
								printotherinUrl: conf.printotherinUrl,
								printotheroutUrl: conf.printotheroutUrl,
								printBarUrl: conf.printBarUrl,
								resPostUrl: conf.resPostUrl,
								getIdUrl: conf.getIdUrl
							},{ 
								region:'center',
								autoRender:true,
								xtype:'erpGridPanel2',
								keyField:conf.keyField,
								gridfields:conf.fields,
								auto:auto,
								gridCondition:conf.gridCondition,
								limits:conf.limits,
								gridcolumns:conf.columns,
								dbfinds:conf.dbfinds,
								tablename:conf.gridTable,
								datafields:conf.gridFields,
								necessaryFieldColor:conf.necessaryFieldColor
							}]
						});
					}
				}
			}
		});
	}
});
	